import{_ as z,u as D,a as E,b as G,c,r as L,o as O,d as t,e as s,f as i,g as n,w as e,F as b,h as k,i as x,j as m,t as _,k as T}from"./index-beb53cfa.js";const $={class:"admin-layout"},H={__name:"Admin",setup(J){const d=D(),p=E(),y=G(),f=c(()=>d.getters.user),S=c(()=>d.getters.menu),w=c(()=>y.path),C={药品管理:[{label:"新增药品",path:"/admin/drug/add"},{label:"药品列表",path:"/admin/drug/list"}],药方管理:[{label:"新增药方",path:"/admin/prescription/add"},{label:"药方列表",path:"/admin/prescription/list"}],用户管理:[{label:"用户列表",path:"/admin/user/list"}]},v=c(()=>S.value.map(a=>({title:a,children:C[a]||[]}))),h=L([]);O(()=>{h.value=v.value.map((a,u)=>String(u))});function I(a){p.push(a)}function B(){localStorage.removeItem("token"),localStorage.removeItem("role"),localStorage.removeItem("menu"),localStorage.removeItem("username"),d.dispatch("logout"),p.push("/login")}return(a,u)=>{const A=t("el-menu-item"),M=t("el-sub-menu"),N=t("el-menu"),V=t("el-aside"),j=t("el-button"),F=t("el-header"),R=t("router-view"),q=t("el-main"),g=t("el-container");return s(),i("div",$,[n(g,{style:{height:"100vh"}},{default:e(()=>[n(V,{width:"220px"},{default:e(()=>[n(N,{"default-active":w.value,"default-openeds":h.value,class:"el-menu-vertical-demo","unique-opened":!0,router:""},{default:e(()=>[(s(!0),i(b,null,k(v.value,(o,l)=>(s(),x(M,{key:l,index:String(l)},{title:e(()=>[m(_(o.title),1)]),default:e(()=>[(s(!0),i(b,null,k(o.children,r=>(s(),x(A,{key:r.path,index:r.path,onClick:K=>I(r.path)},{default:e(()=>[m(_(r.label),1)]),_:2},1032,["index","onClick"]))),128))]),_:2},1032,["index"]))),128))]),_:1},8,["default-active","default-openeds"])]),_:1}),n(g,null,{default:e(()=>[n(F,{style:{background:"#f5f5f5",display:"flex","justify-content":"space-between","align-items":"center"}},{default:e(()=>{var o,l;return[T("span",null,"欢迎，"+_((o=f.value)==null?void 0:o.username)+"（"+_((l=f.value)==null?void 0:l.role)+"）",1),n(j,{type:"danger",onClick:B,size:"small"},{default:e(()=>u[0]||(u[0]=[m("退出系统")])),_:1,__:[0]})]}),_:1}),n(q,null,{default:e(()=>[n(R)]),_:1})]),_:1})]),_:1})])}}},Q=z(H,[["__scopeId","data-v-6cba1320"]]);export{Q as default};
