import{_ as g,e as n,f as l,k as i,F as h,h as I,q as m,t as c}from"./index-beb53cfa.js";/* empty css                                                                    */const f={data(){return{images:[],fileList:[]}},methods:{handleFileUpload(a){const e=Array.from(a.target.files);this.images=[],this.fileList=e,e.forEach(o=>{const d=new FileReader;d.onload=r=>{this.images.push(r.target.result)},d.readAsDataURL(o)}),this.$emit("upload",e)},removeImage(a){this.images.splice(a,1),this.fileList.splice(a,1),this.$emit("upload",this.fileList)}}},_={class:"image-uploader"},p={class:"upload-label"},v={key:0,class:"image-preview"},x={class:"preview-container"},y=["src"],b=["onClick"];function k(a,e,o,d,r,t){return n(),l("div",_,[i("label",p,[i("input",{type:"file",multiple:"",onChange:e[0]||(e[0]=(...s)=>t.handleFileUpload&&t.handleFileUpload(...s)),accept:"image/*",hidden:""},null,32),e[1]||(e[1]=i("span",{class:"upload-btn"},"选择图片",-1))]),r.images.length?(n(),l("div",v,[i("div",x,[(n(!0),l(h,null,I(r.images,(s,u)=>(n(),l("div",{key:u,class:"preview-item"},[i("img",{src:s,class:"preview-image"},null,8,y),i("span",{class:"remove-btn",onClick:O=>t.removeImage(u)},"×",8,b)]))),128))])])):m("",!0)])}const q=g(f,[["render",k],["__scopeId","data-v-d2067f29"]]),C={props:{images:{type:Array,required:!0},initialIndex:{type:Number,default:0}},data(){return{currentIndex:this.initialIndex,scale:1,rotation:0}},computed:{currentImage(){var a,e;return this.images&&this.images.length>0&&(((a=this.images[this.currentIndex])==null?void 0:a.imagePath)||((e=this.images[this.currentIndex])==null?void 0:e.src))||null}},methods:{prevImage(){this.currentIndex>0&&(this.currentIndex--,this.resetTransform())},nextImage(){this.currentIndex<this.images.length-1&&(this.currentIndex++,this.resetTransform())},zoomIn(){this.scale+=.1,this.updateImageStyle()},zoomOut(){this.scale>.1&&(this.scale-=.1,this.updateImageStyle())},rotateLeft(){this.rotation-=90,this.updateImageStyle()},rotateRight(){this.rotation+=90,this.updateImageStyle()},updateImageStyle(){const a=this.$el.querySelector(".image");a&&(a.style.transform=`scale(${this.scale}) rotate(${this.rotation}deg)`)},resetTransform(){this.scale=1,this.rotation=0,this.updateImageStyle()}},watch:{currentIndex(){this.resetTransform()},images(){this.currentIndex>=this.images.length&&(this.currentIndex=0)}}},L={class:"image-viewer"},w=["src"],R={class:"controls"},S=["disabled"],z=["disabled"],F={key:1,class:"image-indicator"};function U(a,e,o,d,r,t){return n(),l("div",L,[t.currentImage?(n(),l("img",{key:0,src:t.currentImage,alt:"Image Viewer",class:"image"},null,8,w)):m("",!0),i("div",R,[i("button",{onClick:e[0]||(e[0]=(...s)=>t.prevImage&&t.prevImage(...s)),disabled:r.currentIndex===0},"上一张",8,S),i("button",{onClick:e[1]||(e[1]=(...s)=>t.nextImage&&t.nextImage(...s)),disabled:r.currentIndex===o.images.length-1},"下一张",8,z),i("button",{onClick:e[2]||(e[2]=(...s)=>t.zoomIn&&t.zoomIn(...s))},"Zoom In"),i("button",{onClick:e[3]||(e[3]=(...s)=>t.zoomOut&&t.zoomOut(...s))},"Zoom Out"),i("button",{onClick:e[4]||(e[4]=(...s)=>t.rotateLeft&&t.rotateLeft(...s))},"Rotate Left"),i("button",{onClick:e[5]||(e[5]=(...s)=>t.rotateRight&&t.rotateRight(...s))},"Rotate Right")]),o.images.length>1?(n(),l("div",F,c(r.currentIndex+1)+" / "+c(o.images.length),1)):m("",!0)])}const A=g(C,[["render",U],["__scopeId","data-v-71b1938e"]]);export{q as I,A as a};
